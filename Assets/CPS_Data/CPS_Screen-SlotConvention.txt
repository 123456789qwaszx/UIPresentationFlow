Spec/Convention Name: CPS UI Screen & Slot Convention
Version: 1.0.0 (Minimal Rules)
Last Updated: 2026-01-08

0. 목적
이 문서는 UIScreen 템플릿, Slot, Widget nameTag 에 대해 “최소한 반드시 지켜야 하는 공통 규칙”을 정의한다.

- 화면(UIScreenSpec) 단위로 키 충돌(nameTag / slotName 중복)에 의한 런타임 오류를 사전에 방지한다.
- 에디터와 런타임에서 Slot / Widget 바인딩이 안전하고 예측 가능하게 동작하도록 한다.
- Root Slot, SlotSpec.slotName, WidgetSpec.nameTag 를 일관된 방식으로 관리하여,
  나중에 Command / WidgetAccess 가 동일한 키를 기준으로 안정적으로 위젯을 찾을 수 있게 한다.


1. Template & Root Slot

1-1. Template Prefab 필수 조건
각 UIScreenSpec.templatePrefab 안에는 반드시 다음이 들어 있어야 한다.

(1) UIScreen 컴포넌트 1개
(2) UISlot 1개

1-2. Root Slot 1개 규칙

(1) SlotSpec 리스트의 첫 번째 요소(slots[0])를 “Root Slot”으로 간주한다.
    - slots[0].slotName 을 “Root Slot 이름”으로 사용한다.

(2) Template 안의 Root UISlot.id 는 반드시 slots[0].slotName 과 완전히 같아야 한다.
    - 예:
      - slots[0].slotName = "Root"
      - Template 내 Root UISlot.id = "Root"

→ Root 이름은 “templatePrefab 안의 Root UISlot.id”와  
  “UIScreenSpec.slots[0].slotName” 두 곳에서 항상 동일해야 한다.


2. SlotName 규칙

2-1. SlotSpec.slotName 전역 유일 (화면 단위)

(1) 한 UIScreenSpec 안에서 SlotSpec.slotName 은 전부 유일해야 한다.
    - 예: "Body", "Header", "Footer" 등은 각 1회만 사용.
    - 같은 화면에서 slotName = "Body" 가 2개 나오면 안 된다.

(2) 공백/빈 문자열 금지.
    - slotName 은 Trim() 후 빈 문자열이 되면 안 된다.

→ SlotSpec.slotName 은 “이 Slot 영역의 고유 이름”이며,  
  Slot 연결/바인딩의 기준이 되므로 중복을 절대 허용하지 않는다.


3. Widget NameTag 규칙

3-1. nameTag 전역 유일 (화면 단위)

(1) 한 UIScreenSpec 안에서 WidgetSpec.nameTag 는 전부 유일해야 한다.
    - 예: "Body_Text", "Body_Icon", "OkButton" 등은 각 1회만 사용.
    - 같은 화면에서 nameTag = "Body_Text" 가 2개 나오면 안 된다.

(2) 공백/빈 문자열 금지.
    - nameTag 는 Trim() 후 빈 문자열이 되면 안 된다.

→ Command 및 런타임 코드는 nameTag 로 Widget 을 찾는다.  
→ nameTag 가 중복되면 “어느 Widget 을 조작해야 하는지” 알 수 없으므로,  
   같은 UIScreenSpec 안에서는 nameTag 를 절대 중복시키지 않는다.

→ WidgetSpec.nameTag 는 추후 Command 의 WidgetAccess  
   (예: UIScreen.GetWidgetHandle(nameTag) / UIWidgetAccess 등)와 직접 연결되어,  
    “커맨드에서 조작할 위젯을 지정하는 공식 식별자”로 사용될 예정이다.  
   구체적인 이름 패턴(접두사/스코프 등) 규칙은 도메인별로, 상세 구현 단계에서 별도 정의한다.


## Changelog
- 1.0.0 (2026-01-08): Initial release